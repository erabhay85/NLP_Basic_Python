The prospect of housing astronauts beneath the surface on other planets has been brought up before, such as in 2014 when a NASA probe got hints of lava tubes beneath the moon's surface. Both China and Russia have announced plans to put a colony on the moon in the next few decades, and the US could be ramping up to make a return there as well. A lunar base would be a convenient staging point for longer missions to Mars and beyond, in addition to an important proof-of-concept for living on other worlds.
There are still a few challenges to be worked out though, most pressing of which is the question of supplies. Constantly shuttling food and water to the moon would be difficult, so settlers would need their own sources of sustenance. The moon likely contains water ice which could be converted into drinking water and even fuel, but food production would require off-world agriculture. There are a few models for this, based largely on hydroponics, but it's a task that hasn't been seriously attempted yet.
Nevertheless, if we manage to seal off a lunar cave, as some have suggested, by installing thick glass or metal shields across any openings and pump it full of air, it could be possible. A system of mirrors could funnel sunlight down below, and lunar settlers could live and farm relatively comfortably. The same idea could work on Mars as well; the Red Planet also has caves, in addition to water ice reserves.
